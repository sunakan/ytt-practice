YTT_COMMAND := ../ytt

################################################################################
# ドキュメントの自動生成
# $ make docs
################################################################################
.PHONY: docs
docs: clean
	cat docs.yml \
	| $(YTT_COMMAND) -f- --output json \
	| jq  --compact-output --raw-output '.docs[].path' \
	| xargs -I {path} cat {path} >> README.adoc

################################################################################
# 片付け
# $ make clean
################################################################################
.PHONY: clean
clean:
	rm -rf README.adoc
